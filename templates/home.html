{% extends 'base.html' %}
{% load static %}

{% block content %}


<main>
    <section class="bg-blue-700 text-white py-20">
        <div class="container mx-auto px-6 text-center">
            <h1 class="text-5xl font-bold mb-4 animate-fade-in">Welcome to UniBook Manager</h1>
            <p class="text-xl mb-8 animate-fade-in" style="animation-delay: 0.2s;">Manage your university textbooks
                and course materials with ease</p>
            <div class="max-w-md mx-auto animate-fade-in" style="animation-delay: 0.4s;">
                <form hx-get="{% url 'home' %}" hx-target="#borrow"
                    hx-trigger="change from:select, keyup from:input[name='search'] delay:1.5s"
                    hx-indicator="#load-data" class="join">
                    <div class="join">
                        <select name="department" class="select select-bordered join-item" required>
                            <option disabled selected value="">Department</option>
                            <option value="IT">Information Technology</option>
                            <option value="CS">Computer Science</option>
                            <option value="EDU">Education</option>
                        </select>

                        <div>
                            <input class="input input-bordered join-item" name="search" type="number"
                                placeholder="Search roll no..." required hx-swap="innerHTML" pattern="\d{2}"
                                title="Please enter roll number (e.g., 01, 02, 11)" />

                        </div>
                    </div>
                </form>

                <!-- Indicator for loading state -->



                <img id="load-data" class="animate-spin w-10 mt-12 htmx-indicator" src="{% static 'img/loading.png' %}"
                    alt="">

            </div>
        </div>
    </section>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 mt-10 mx-auto px-4 sm:px-6 md:px-16" id="borrow">

        {% include 'partials/partial_home.html' %}
    </div>


    <section class="py-16">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold mb-8 text-center text-gray-800">Quick Actions</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div
                    class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300 animate-fade-in">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2">Borrow a Book</h3>
                        <p class="text-gray-600 mb-4">Search and borrow textbooks for your courses.</p>
                        <a href="{% url 'catalog' %}"
                            class="text-blue-500 hover:text-blue-600 transition duration-300">Browse
                            Catalog →</a>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300 animate-fade-in"
                    style="animation-delay: 0.1s;">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2">Return a Book</h3>
                        <p class="text-gray-600 mb-4">Process returns for books you've finished using.</p>
                        <a href="{% url 'borrowing' %}"
                            class="text-blue-500 hover:text-blue-600 transition duration-300">My
                            Borrowings →</a>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300 animate-fade-in"
                    style="animation-delay: 0.2s;">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2">Check Due Dates</h3>
                        <p class="text-gray-600 mb-4">View and manage your current borrowings.</p>
                        <a href="{% url 'borrowing' %}"
                            class="text-blue-500 hover:text-blue-600 transition duration-300">View
                            Due Dates →</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>
{% endblock content %}